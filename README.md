(generated by chatgpt, update by me)
# ğŸ§© Elastic Collisions in 2D â€” Progress Tracker

> A C++20 + Raylib physics simulation project focused on real-time 2D elastic collisions, numerical stability, and performance tuning.

---

## ğŸ“… Project Overview

| Item | Details |
|------|----------|
| **Language** | C++20 |
| **Graphics** | Raylib |
| **Build System** | CMake (Clang / GCC) |
| **Goal** | Build a physically accurate, real-time 2D elastic particle simulator with energy and momentum conservation |
| **Start Date** | 2025-10-20 |
| **Status** | ğŸš§ In Progress |

---

## âœ… Roadmap & Progress

### Phase 1 â€” Core Simulation Logic
- [ ] Define `Particle` struct 
- [ ] Implement `Simulation` class
- [ ] Add time integration 
- [ ] Detect wall collisions
- [ ] Detect particleâ€“particle collisions
- [ ] Resolve velocity updates using elastic collision equations
- [ ] Add positional correction to prevent overlap

### Phase 2 â€” Data & Debug
- [ ] Add logging system 
- [ ] Record kinetic energy, total momentum each frame
- [ ] Verify conservation laws (unit tests)
- [ ] Implement reading from setting file for N, dt, runtime

### Phase 3 â€” Visualization (Raylib)
- [ ] Basic 2D rendering loop
- [ ] Draw particles and bounding box
- [ ] Color particles by speed
- [ ] Pause/Resume simulation input
- [ ] Display energy and collision stats on screen

### Phase 4 â€” Performance & Optimization
- [ ] Profile baseline O(NÂ²) loop
- [ ] Implement broadphase
- [ ] Compare performance scaling with N
- [ ] Enable LTO & compiler optimization flags
- [ ] Test float vs double precision accuracy

### Phase 5 â€” Polish
- [ ] Write README and usage instructions
- [ ] Add config file support (`config.ini` or CLI)
- [ ] Record demo video / GIF
- [ ] Final cleanup and refactor

---

## ğŸ§ª Test Checklist

| Test | Description | Status |
|------|--------------|--------|
| Two-body head-on | Equal mass swap velocities | â˜ |
| Unequal mass collision | Check momentum & energy conservation | â˜ |
| Wall reflection | Correct reversal of velocity | â˜ |
| Many-body random | Stable over long run | â˜ |
| Energy drift | Î”E < 1e-6 over 10k frames | â˜ |

---

## ğŸ§® Experiment Log (THIS IS PLACEHOLDER)

| Date | Experiment | Description | Result |
|------|-------------|--------------|--------|
| YYYY-MM-DD | Broadphase grid | Implemented grid size = 2Ã— avg radius | âœ… Improved FPS 2Ã— |
| YYYY-MM-DD | Double â†’ float | Tested numerical drift | âš ï¸ Slight energy loss |
| YYYY-MM-DD | Î”t tuning | 1/60 vs 1/120 | âœ… Stable up to 1/120 |

---

## ğŸ Bug / Issue Log (THIS IS PLACEHOLDER)

| Date | Issue | Fix Status | Notes |
|------|--------|-------------|-------|
| YYYY-MM-DD | Particles occasionally overlap | ğŸ• Investigating | May need iterative collision resolution |
| YYYY-MM-DD | NaN velocities after multiple collisions | âœ… Fixed | Division by zero when distance â‰ˆ 0 |
| YYYY-MM-DD | ASan crash at exit | ğŸ• Pending | Likely raylib cleanup issue |

---

## ğŸ“ˆ Performance Notes (THIS IS PLACEHOLDER)

| Metric | Baseline | Optimized | Notes |
|---------|-----------|-----------|-------|
| N = 100 | 60 FPS | â€” | |
| N = 500 | 15 FPS | 40 FPS | With grid |
| N = 1000 | 5 FPS | 20 FPS | With grid + LTO |
| Build time | 3.2s | 2.1s | With Ninja + `-j` |

---

## ğŸ’¡ Future Ideas
- [ ] Add gravity and damping (non-perfect collisions)
- [ ] 3D extension (spheres)
- [ ] Parallelize collision detection (OpenMP or std::async)
- [ ] Add GUI controls for dt, particle count
- [ ] Export frame data to Python for analysis

---

## ğŸ§° Tooling
| Tool | Purpose |
|------|----------|
| **CMake** | Build system |
| **Clang** | Compilation |
| **clangd** | IntelliSense |
| **Raylib** | Graphics |
| **AddressSanitizer** | Memory debugging |
| **Valgrind** | Leak detection |
| **Perf** | Profiling |

---

## ğŸ—‚ï¸ Folder Layout

ğŸ“¦ **elastic2d/**
â”œâ”€â”€ ğŸ“ include/
â”‚   â”œâ”€â”€ simulation_constants.hpp
â”‚   â””â”€â”€ simulation_settings.hpp
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ main.cpp
â”‚   â”œâ”€â”€ simulation.cpp
â”œâ”€â”€ ğŸ“ data/
|   â”œâ”€â”€ settings.ini
â”‚   â”œâ”€â”€ frames.csv (eventually)
â”‚   â””â”€â”€ stats.csv (eventually)
â”œâ”€â”€ ğŸ“ build/
â””â”€â”€ ğŸ“„ CMakeLists.txt


---

## ğŸ§¾ Notes & Reflections
- [ ] Lessons learned on numerical stability
- [ ] Compiler flag benchmarks
- [ ] Future optimization opportunities

---